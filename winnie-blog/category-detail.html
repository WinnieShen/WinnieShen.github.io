<div id="category-detail-list">
    <div class="color-gray font-larger">Loading...</div>
</div>
<script src="../resource/js/jquery-2.1.4.min.js"></script>
<script src="data/category-detail.js"></script>
<script src="data/article.js"></script>
<script>
    $(document).ready(function(){
        loadCategoryDetail();
    });
    function loadCategoryDetail() {

        var arr = sortCategoryDetailByDate(categoryDetailArr);
        var text = $("#category-detail-list").html();
        $("#category-detail-list").html("");

        for(var i=0;i<arr.length;i++){
            var artArr = getArticleByCategoryDetail(arr[i].id);
            var ulText = "";
            if(artArr.length == 0){
                ulText = "<span class='font-tillana color-black font-not-large'>该分类下尚未添加文章。</span>";
            }
            for(var j=0;j<artArr.length;j++){
                var ulHtml = "<li class='font-common inner-space-two'><span class='font-yahei outer-space-right-ten'>" +
                artArr[j].publishDate +
                "</span><a class='color-black font-tillana font-not-large' onclick='loadOneArticle("+ artArr[j].id +");' >" +
                artArr[j].title +
                "</a></li>";
                ulText += ulHtml;
            }
            var categoryContent = "<div class='category-content'><h3 class='color-black font-tillana'>" +
                                arr[i].name + "</h3><ul>" + ulText + "</ul></div>";
            $("#category-detail-list").append(categoryContent);
        }
    }
</script>